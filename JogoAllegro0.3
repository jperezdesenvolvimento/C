#include <allegro.h>


int main() {
    int tamquad = 30;
    int x=50, y=50, x2=x+tamquad, y2=y+tamquad;

    allegro_init();
    install_keyboard();
    set_color_depth(32);
    set_gfx_mode(GFX_AUTODETECT_WINDOWED,640,480,0,0);
    set_window_title("JOGO");

    BITMAP *buffer = create_bitmap(640,480);

    BITMAP *fundo;

    fundo = load_bitmap("D:\\teste2.bmp", NULL);

    while(!key[KEY_ESC]) { 
        clear_bitmap(buffer);

        if(getpixel(x)key[KEY_RIGHT]) {
             x++;
             x2++;
        }

        if(key[KEY_LEFT]) {
                   x--;
                   x2--;
        }

        if(key[KEY_UP]) {
                   y--;
                   y2--;
        }

        if(key[KEY_DOWN]) {
                   y++;
                   y2++;
        } 
        draw_sprite(buffer, fundo,0 ,0  );
        rectfill(buffer,x,y,x2,y2,makecol(208,44,214));

        blit(buffer,screen,0,0,0,0,640,480);

        readkey();
    }
    return 0;
 }
 END_OF_MAIN()
